Speksit

CPU: AMD ryzen 7600x 

GPU: AMD radeon 9060 XT R

AM: 32 GB 

OS: Windows 10 pro

VM: Oracle Virtualbox Kali Linux

Base memory: 4096 mb 

Prosessors: 2 Storage: 30 GB




Lab0: Tutki tiedostoa h1.jpg, jo opituilla työkaluilla mitä saat selville?

Tehtävä käytiin aika lailla opettajan johdolla tunnilla, mutta lisättävää minulla on ainakin sen koko 

<img width="578" height="233" alt="kuva" src="https://github.com/user-attachments/assets/c07a3afd-f516-469f-a99d-75721223f59d" />


Se on valtavan iso verratuna tavalliseen jpg tiedostoon.


    file 

<img width="989" height="96" alt="kuva" src="https://github.com/user-attachments/assets/66bcd290-a991-462c-a89e-30ce7095eb10" />


    strings -n 10 

<img width="549" height="764" alt="kuva" src="https://github.com/user-attachments/assets/2d2325a0-1bbd-4051-964e-5fdfa4d57747" />

paljon word, xml ja xmlpk


Koitin myös avata sen ghidrassa mutta se ei ollut ELF-muodossa, joten en jatkanut sillä eteenpäin.


<img width="502" height="269" alt="kuva" src="https://github.com/user-attachments/assets/b935cb5d-1af4-4a1c-9479-764d1c31e607" />



Lab1: Tutki tiedostoa h1.jpg binwalk (Versio 2.x tai 3.x huom toimivat eri tavalla), mitä tietoja löydät nyt tiedostosta. Mitä työkalua käyttäisit tiedostojen erottamiseen?

Ajoin 

    binwalk -eM h1.jpg

<img width="1231" height="453" alt="kuva" src="https://github.com/user-attachments/assets/4d39a324-582a-4d76-a244-eeabf97277e2" />


Se löysi word xml tiedostot myös 


Komento extractoi tiedot niin pitkää, että ei ole extractoitavaa (rekursiivisesti)


Navigoin taaksepäin kerran ja binwalk oli luonut uuden hakemiston _h1.jpg.extracted.

Menin sen sisään ja siellä oli 494F5.zip


<img width="492" height="159" alt="kuva" src="https://github.com/user-attachments/assets/5e59229c-4afa-4a4a-b49c-0bfa1ea618bd" />



Kokeilin siihen samaa strings komentoa


<img width="786" height="681" alt="kuva" src="https://github.com/user-attachments/assets/83e536cc-08c9-469c-94fc-8717f3fce12f" />


Filellä paljtui että se on Microsoft Word tiedosto 


<img width="465" height="74" alt="kuva" src="https://github.com/user-attachments/assets/d8a65b6d-9ad7-4a7b-8c42-988f46fdaff4" />



Asensin libreofficen (Wordin kaltainen, plussana ei tarvitse lähteä säätämään Microsoftin kanssa tuoreella virtuaalikoneella.)

    sudo apt-get install libreoffice


Kokeilin avata sen ja tuli tälläinen

<img width="515" height="298" alt="kuva" src="https://github.com/user-attachments/assets/1718e141-4646-443d-80fc-3efce6ae44c7" />



Painoin kyllä (jos olisin tehnyt tämän ensiksi olisin miettynyt enemmän ja painanyt ei, vaikka olinkin vm:n sisällä)





<img width="1500" height="874" alt="kuva" src="https://github.com/user-attachments/assets/e0c97c34-00a6-4016-924e-95d23b5de3a9" />


Se oikeasti onnistui korjaamaan sen ja tuli toimiva ja luettava tiedosto

Haluan tutkia vielä miten tämä toimii verhojen takana. Oletan, että libreoffice osaa korjata .xml tiedostot luettavaan muodot



Lab2: FOSS (Free Android OpenSource) Tutustu listaan eri android applikaatioita.
https://github.com/offa/android-foss
Valitse listalla itsellesi mielenkiintoisin applikaatio ja mene sen GitHubiin. Lataa ohjelman APK itsellesi ja käytä seuraavia työkaluja tutustuaksesi miten APK:n voi avata. 
ZIP, JADX ( https://github.com/skylot/jadx ), Bytecode-viewer ( https://github.com/Konloch/bytecode-viewer/ )

Kirjoita raporttiin mitä applikaatiota tutkit ja mitä tietoja sait selvitettyä käännetystä paketista, tarvittaessa voit verrata vastaako tieto githubissa olevaan koodiin.

Menin [Github repoon](https://github.com/offa/android-foss), jossa on avoimen lähdekoodin Android sovelluksia. Siellä oli URL-manipulation välilehti, joka vaikutti mielenkiintoiselta. Sen sisällä oli URLCheck sovellus joten lähdin tutkimaan sitä.

Latasin  jadx

    sudo apt-get install jadx

Menin hakemistoon, jossa oli jadx ja jadx-gui

Kokeilin ensin jadx-gui


<img width="813" height="242" alt="kuva" src="https://github.com/user-attachments/assets/1cfed6f7-ad90-442a-a350-015ecc1459f6" />

Se avasi sovelluksen. Latasin .apk tiedoston URL-Checkeristä Latest releases kohdassa, jonka jälkeen avasin sen jadx-gui:llä 


Se avasi Ghidran tyylisen näkymän

<img width="265" height="515" alt="kuva" src="https://github.com/user-attachments/assets/86ea33aa-697c-4e94-9b84-6c54dc4a766c" />

<img width="748" height="372" alt="kuva" src="https://github.com/user-attachments/assets/d78fb0f5-cd5a-4a7d-9a61-9f0c8e175af4" />


Tutkin sitä vähän, mutta mietin että olisi helpompaa etsiä tietoja komentorivillä


Ajoin


      jadx -d /home/$veikka/out_URLCheck --deobf --show-bad-code ~/Downloads/URLCheck-3.4.apk

      

<img width="708" height="140" alt="kuva" src="https://github.com/user-attachments/assets/2cc6a0be-7db5-4517-9df2-bde7e38e8805" />



Aloin katselemaan grepilla mitä sieltä löytyy



<img width="531" height="208" alt="kuva" src="https://github.com/user-attachments/assets/86b0a210-cb43-42a3-9212-bcbddb5ba30f" />



Katsoin ottaako sen yhteyden nettiin



    grep -Rn -i  "http://" ~/out_URLCheck



<img width="1183" height="664" alt="kuva" src="https://github.com/user-attachments/assets/141371e0-c19a-446f-85f6-905224c7e2cd" />



    grep -Rn "api|key\|secret\|token" ~/out_URLCheck



<img width="1834" height="376" alt="kuva" src="https://github.com/user-attachments/assets/abd43cc1-85c5-4c14-8d0b-2223c3f0aa5b" />



    grep -R "api[_-]" ~/out_URLCheck 


<img width="1618" height="185" alt="kuva" src="https://github.com/user-attachments/assets/b0e132b4-b3cb-4b12-9e18-eef07e97c89a" />



api avain ei ole kova koodattu 



Koitin myös katsoa mitä salausta käytetään (SHA, AES)

<img width="1549" height="169" alt="kuva" src="https://github.com/user-attachments/assets/a3fad918-8644-4291-8b1d-fa6003371eea" />



Tuli message digest ja SHA-256, sovellus ei käytä heikkoa suojausta kuten MD5 tai aikaisempia SHA-malleja



Katsoin lopuksi vielä bytecode-vieweriä, vaikka sain mielestäni hyvin tietoa jo 


        sudo apt-get install bytecode-viewer
        bytecode-viewer


Avasin .apk tiedoston ja siitä tuli samanlainen näkymä kuin jadx:llä. En tiedä miten saisin sillä uutta tietoa jota en saisi jadx-sovelluksella

<img width="1917" height="871" alt="kuva" src="https://github.com/user-attachments/assets/55caf8c1-c284-4c06-8322-cc81d93f5574" />


Bytecode-viewerillä voi katsoa hexaa, mutta en tiedä miten sitä voisi hyödyntää.


<img width="808" height="456" alt="kuva" src="https://github.com/user-attachments/assets/30428400-c3ab-4aef-85e3-117a750b05fb" />









## Lähteet


https://terokarvinen.com/sovellusten-hakkerointi


https://terokarvinen.com/sovellusten-hakkerointi/#h6-sulaa-hulluutta-lari


https://docs.oracle.com/javase/8/docs/api/java/security/MessageDigest.html
